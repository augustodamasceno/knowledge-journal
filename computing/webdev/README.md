# Web Development. By Augusto Damasceno.
> Copyright (c) 2024, Augusto Damasceno.  
> All rights reserved.  
> SPDX-License-Identifier: CC-BY-4.0  

## Contact
> [augustodamasceno@protonmail.com](mailto:augustodamasceno@protonmail.com)

# Tools  

* **jQuery**: A fast, small, and feature-rich JavaScript library designed to simplify HTML DOM tree traversal and manipulation, as well as event handling, CSS animation, and Ajax. It is widely used because it makes things like HTML document traversal and manipulation, event handling, and animation much simpler with an easy-to-use API that works across a multitude of browsers 
> https://code.jquery.com/jquery-3.6.0.min.js  

* **Bootstrap**: A popular open-source front-end framework developed by Twitter for building responsive and mobile-first websites. It includes a comprehensive collection of CSS and JavaScript tools that simplify the creation of modern web interfaces, offering pre-styled components, a responsive grid system, and JavaScript plugins for interactive elements. It ensures cross-browser compatibility and can be customized with Sass variables.
> https://getbootstrap.com/docs/5.1/getting-started/download/).

* **Font Awesome**: A widely used icon toolkit that provides scalable vector icons that can be easily customized with CSS. It includes a vast library of free and premium icons covering a range of categories, making it a versatile resource for adding visually appealing icons to websites and applications. The icons are responsive, ensuring they look sharp on all screen sizes, and they can be styled with CSS to change their size, color, and effects. 
> https://fontawesome.com/start.

* **Node.js**: A runtime for executing JavaScript outside the browser, built on the V8 engine. Ideal for scalable, real-time applications due to its event-driven, non-blocking I/O model.
> https://nodejs.org/en/download/

* **TypeScript**: A superset of JavaScript adding static typing and other features. Developed by Microsoft, it improves code quality by catching errors at compile-time and transpiles to JavaScript.
> https://www.typescriptlang.org/download

* **ESLint**: A static code analysis tool for JavaScript/TypeScript. It enforces coding standards and best practices by detecting syntax errors and code style issues.
> https://eslint.org/docs/latest/user-guide/getting-started

* **Prettier**: An opinionated code formatter for JavaScript and other languages. It enforces consistent style by reformatting code according to predefined rules, ensuring uniformity.
> https://prettier.io/docs/en/install.html

# Using ESLint and Prettier with VS Code  
> This section is a modification from a response generated by ChatGPT-4o)  

## Step 1: Install ESLint and Prettier

1. **Initialize your project (if not already initialized)**:
   ```bash
   npm init -y
   ```

2. **Install ESLint**:
   ```bash
   npm install eslint --save-dev
   ```

3. **Install Prettier**:
   ```bash
   npm install prettier --save-dev
   ```

4. **Install ESLint Prettier plugin and config**:
   ```bash
   npm install eslint-config-prettier eslint-plugin-prettier --save-dev
   ```
5. **Install typescript-eslint Packages**:
   ```bash
   npm install @typescript-eslint/parser @typescript-eslint/eslint-plugin --save-dev
   ```
   
## Step 2: Configure ESLint

1. **Initialize ESLint**:
   ```bash
   npx eslint --init
   ```
   Follow the prompts to configure ESLint according to your project needs.

2. **Create or update `.eslintrc.js`**:
   Add the Prettier plugin and config to your ESLint configuration. Here’s an example of what your `.eslintrc.js` might look like:

   ```javascript
  module.exports = {
  env: {
    browser: true,
    es6: true,
    node: true,
  },
  extends: [
    'eslint:recommended',
    'plugin:react/recommended', // if using React
    'plugin:@typescript-eslint/recommended', // if using TypeScript
    'plugin:prettier/recommended',
  ],
  parser: '@typescript-eslint/parser',
  parserOptions: {
    ecmaFeatures: {
      jsx: true,
    },
    ecmaVersion: 12,
    sourceType: 'module',
  },
  plugins: [
    'react', // if using React
    '@typescript-eslint', // if using TypeScript
    'prettier',
  ],
  rules: {
    'prettier/prettier': 'error',
    // Add or customize your rules here
  },
};
```

## Step 3: Configure Prettier

1. **Create a Prettier configuration file**:
   Create a `.prettierrc` file in the root of your project. Here’s an example configuration:

   ```json
   {
     "printWidth": 80,
     "tabWidth": 2,
     "useTabs": false,
     "semi": true,
     "singleQuote": true,
     "trailingComma": "es5",
     "bracketSpacing": true,
     "arrowParens": "always"
   }
   ```

2. **Optional**: Create a `.prettierignore` file to exclude files from Prettier formatting. This file works similarly to `.gitignore`.

   ```plaintext
   node_modules/
   build/
   ```

## Step 4: Integrate with VS Code

1. **Install VS Code Extensions**:
   - **ESLint**: Install the ESLint extension from the VS Code marketplace.
   - **Prettier - Code formatter**: Install the Prettier extension from the VS Code marketplace.

2. **Configure VS Code Settings**:
   Open your VS Code settings (`settings.json`) and add the following configurations to enable formatting and linting on save:

   ```json
   {
     "editor.formatOnSave": true,
     "editor.codeActionsOnSave": {
       "source.fixAll.eslint": true
     },
     "eslint.validate": [
       "javascript",
       "javascriptreact",
       "typescript",
       "typescriptreact"
     ],
     "prettier.requireConfig": true
   }
   ```

## Step 5: Use ESLint and Prettier

1. **Lint and fix your code**:
   You can run ESLint with the `--fix` option to automatically fix problems where possible.

   ```bash
   npx eslint . --fix
   ```

2. **Format your code with Prettier**:
   Add a script in your `package.json` to format your code using Prettier.

   ```json
   {
     "scripts": {
       "format": "prettier --write 'src/**/*.{js,jsx,ts,tsx,json,css,scss,md}'"
     }
   }
   ```

   Then, you can run the format script:

   ```bash
   npm run format
   ```


## Google Chrome Extension

* Create a directory for the extension
```bash
mkdir myext
```

* Put an icon image in "icons/icon48.png"  

* Create the "background.js" file with a message on install    
```js
chrome.runtime.onInstalled.addListener( () => {
  console.log('Extension MYEXT installed!')
})
```

* Create the "content.js" file (in this example apply a green background color to the website)
```js
window.onload = () => {
  const overlay = document.createElement('div');
  overlay.style.position = 'fixed';
  overlay.style.top = '0';
  overlay.style.left = '0';
  overlay.style.width = '100%';
  overlay.style.height = '100%';
  overlay.style.backgroundColor = 'rgba(0, 128, 0, 0.2)';
  overlay.style.pointerEvents = 'none';
  document.body.appendChild(overlay);
}
```

* Create the manifest.json file  
* See the permissions list [here](https://developer.chrome.com/docs/extensions/reference/permissions-list)  
```json
{
    "name": "NAME",
    "version": "1.0.0",
    "description": "DESCRIPTION",
    "manifest_version": 3,
    "background": {
      "service_worker": "background.js"
    },
    "content_scripts" : [
        {
            "js": ["content.js"],
            "matches": ["<all_urls>"]
        }
    ],
    "permissions": [
      "activeTab"
    ],
    "action": {
      "default_icon": {
        "48": "icons/icon48.png"
      }
    }
  }
```

## Jtest
### Install
```bash
npm install --save-dev jest
```

### Configure the package.json with
```json
"scripts": {
  "test": "jest"
}
```

### Test sample

* File sum.js  
```js
function sum(a, b) {
  return a + b;
}
module.exports = sum;
```

* File sum.test.js  
```js
const sum = require('./sum');

test('adds 1 + 2 to equal 3', () => {
  expect(sum(1, 2)).toBe(3);
});
```

* Run tests  
```js
npm test
```

## References  
* https://code.visualstudio.com/  
* https://jquery.com/  
* https://code.jquery.com/jquery-3.6.0.min.js  
* [https://nodejs.org/en ](https://nodejs.org/en/download/) 
* https://www.npmjs.com/package/jest  
* [https://www.typescriptlang.org/ ](https://www.typescriptlang.org/download) 
* https://eslint.org/docs/latest/user-guide/getting-started
* https://prettier.io/docs/en/install.html
* https://developer.chrome.com/docs/extensions/reference/permissions-list  


    
